<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cochabamba</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.1/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.1/dist/leaflet.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alkalami&display=swap" rel="stylesheet">
    <style>
        h1{
            font-family: 'Alkalami';
            text-align: center;
        }
        #map{
            position: absolute;
            top: 130px;;
            bottom:20%;
            left: 10%;
            right: 10%;
        }
        #select-ubication{
            left: 10%;
            right: 10%;
        }        
    </style>    
    <h1>Mapa de Cochabamba</h1>
    <select name="select-ubication" id="select-ubication" ;>
        <option value="-1">Seleccione que sitio desea ver</option>
        <option value="-17.388284768889573, -66.15575781575984">Marcador con informacion en burbuja Plaza Colon</option>
        <option value="-17.393782,-66.156986">Poligono Plaza Principal</option>
        <option value="-17.36953736313758, -66.17290066122355">Ruta Parque Lincoln</option>
    </select>
</head>
<body>
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v15.0" nonce="5iklaJef"></script>

    <div id="map"></div>
    <script type="text/javascript">

        document.getElementById('select-ubication').addEventListener('change', function(e){
            let coords = e.target.value.split(",");
            map.flyTo(coords,17);
        })

        var map = L.map('map').setView([-17.388284768889573, -66.15575781575984],17);

        L.tileLayer('https://api.maptiler.com/maps/basic-v2/{z}/{x}/{y}.png?key=GefuU4TDDudibMXPsoGw',{
            atribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'
        }).addTo(map);
        var ruta = {
                    "type": "FeatureCollection",
                    "features": [
                        {
                        "type": "Feature",
                        "properties": {},
                        "geometry": {
                            "type": "LineString",
                            "coordinates": [
                            [
                                -66.1746883392334,
                                -17.36981810694691
                            ],
                            [
                                -66.17125511169434,
                                -17.370109934650507
                            ],
                            [
                                -66.17098689079285,
                                -17.369644034060208
                            ],
                            [
                                -66.17104589939117,
                                -17.3695365183711
                            ],
                            [
                                -66.17258012294769,
                                -17.36941364322054
                            ],
                            [
                                -66.17249429225922,
                                -17.368318002817237
                            ],
                            [
                                -66.1732292175293,
                                -17.368256564843588
                            ]
                            ]
                        }
                        }
                    ]
                    }
        L.geoJson(ruta).addTo(map);

        var marker = L.marker([-17.388284768889573, -66.15575781575984]).addTo(map);
        marker.bindPopup("<h1>Plaza Colon</h1><p>Zona central Cochabamaba</p>").openPopup();

        var circulo = L. circle([-17.393782,-66.156986],{
            color:'green',
            fillcolor: 'red',
            fillOpacity:0.4,
            radius:100
        }).addTo(map);
        circulo.bindPopup("<h1>Plaza principal</h1>");

        var poligono = L.polygon([
            [-17.393268937538448, -66.15657064146191],
            [-17.393434645167122, -66.15752507093754],
            [-17.394353495218507, -66.1573808168427],
            [-17.394193656607705, -66.15636413746746]
        ]).addTo(map);
        poligono.bindPopup("<h1>Plaza principal</h1><p>Zona central Cochabamaba</p>").openmPopup();


    </script>
<div class="fb-comments" data-href="https://chambi001.github.io/PaginaWebGmaps/" data-width="" data-numposts="5" top="700"></div>
</body>
</html>
